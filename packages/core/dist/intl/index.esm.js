export{l as locale}from"./p-e5319bb7.js";export{d as direction}from"./p-277431f2.js";async function t(t){return document.querySelector("intl-dictionary").componentOnReady().then(i=>i.resolvePhrase(t)).then(t=>t||null)}class i{constructor(t){this.callback=t,this.previous=[],this.phraseFilter=null,this.localeFilter=null,this.oldValue=!1}observe(t={}){t.localeFilter&&(this.localeFilter=t.localeFilter),t.phraseFilter&&(this.phraseFilter=t.phraseFilter),t.oldValue&&(this.oldValue=t.oldValue);const i=t=>i=>{if(!this.localeFilter||!this.localeFilter.length||this.localeFilter&&this.localeFilter.findIndex(t=>t===i.detail.locale)>-1){let s={type:"locale",value:i.detail.locale};if(this.oldValue){const t=this.previous.find(t=>"locale"===t.type);s=Object.assign(Object.assign({},s),{oldValue:t?t.value:null})}let e=[s];if(this.phraseFilter){const i=this.phraseFilter.map(i=>t.resolvePhrase(i).then(t=>t||null));Promise.all(i).then(t=>{const i=t.map((t,i)=>{let s={type:"phrase",phraseName:this.phraseFilter[i],value:t};if(this.oldValue){const t=this.previous.find(t=>"phrase"===t.type&&t.phraseName===this.phraseFilter[i]);s=Object.assign(Object.assign({},s),{oldValue:t?t.value:null})}return s});e=[...e,...i],this.previous=e,this.callback(e)})}else this.previous=e,this.callback(e)}};let s;document.querySelector("intl-dictionary").componentOnReady().then(t=>(s=i(t),s({detail:{locale:t.locale,dir:t.dir}}),t)).then(t=>{this.onChange=t=>s(t),t.addEventListener("intlChange",this.onChange)})}disconnect(){document.querySelector("intl-dictionary").componentOnReady().then(t=>t.removeEventListener("intlChange",this.onChange))}}export{i as LanguageObserver,t as phrase};