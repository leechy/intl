/*! Built with http://stenciljs.com */
const{h:e}=window.intl;export{a as locale,b as direction}from"./chunk-b900dc0c.js";async function l(e){return document.querySelector("intl-dictionary").componentOnReady().then(l=>l.resolvePhrase(e)).then(e=>e||null)}class t{constructor(e){this.callback=e,this.previous=[],this.phraseFilter=null,this.localeFilter=null,this.oldValue=!1}observe(e={}){e.localeFilter&&(this.localeFilter=e.localeFilter),e.phraseFilter&&(this.phraseFilter=e.phraseFilter),e.oldValue&&(this.oldValue=e.oldValue);const l=e=>l=>{if(!this.localeFilter||!this.localeFilter.length||this.localeFilter&&this.localeFilter.findIndex(e=>e===l.detail.locale)>-1){let t={type:"locale",value:l.detail.locale};if(this.oldValue){const e=this.previous.find(e=>"locale"===e.type);t=Object.assign({},t,{oldValue:e?e.value:null})}let i=[t];if(this.phraseFilter){const l=this.phraseFilter.map(l=>e.resolvePhrase(l).then(e=>e||null));Promise.all(l).then(e=>{const l=e.map((e,l)=>{let t={type:"phrase",phraseName:this.phraseFilter[l],value:e};if(this.oldValue){const e=this.previous.find(e=>"phrase"===e.type&&e.phraseName===this.phraseFilter[l]);t=Object.assign({},t,{oldValue:e?e.value:null})}return t});i=[...i,...l],this.previous=i,this.callback(i)})}else this.previous=i,this.callback(i)}};let t;document.querySelector("intl-dictionary").componentOnReady().then(e=>((t=l(e))({detail:{locale:e.lang,dir:e.dir}}),e)).then(e=>{this.onChange=(e=>t(e)),e.addEventListener("intlChange",this.onChange)})}disconnect(){document.querySelector("intl-dictionary").componentOnReady().then(e=>e.removeEventListener("intlChange",this.onChange))}}export{l as phrase,t as LanguageObserver};