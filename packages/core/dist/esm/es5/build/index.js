/*! Built with http://stenciljs.com */
import*as tslib_1 from"../polyfills/tslib.js";export{a as locale,b as direction}from"./chunk-b900dc0c.js";function phrase(e){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(n){return[2,document.querySelector("intl-dictionary").componentOnReady().then(function(n){return n.resolvePhrase(e)}).then(function(e){return e||null})]})})}var LanguageObserver=function(){function e(e){this.callback=e,this.previous=[],this.phraseFilter=null,this.localeFilter=null,this.oldValue=!1}return e.prototype.observe=function(e){var n,t=this;void 0===e&&(e={}),e.localeFilter&&(this.localeFilter=e.localeFilter),e.phraseFilter&&(this.phraseFilter=e.phraseFilter),e.oldValue&&(this.oldValue=e.oldValue),document.querySelector("intl-dictionary").componentOnReady().then(function(e){return(n=function(e){return function(n){if(!t.localeFilter||!t.localeFilter.length||t.localeFilter&&t.localeFilter.findIndex(function(e){return e===n.detail.locale})>-1){var r={type:"locale",value:n.detail.locale};if(t.oldValue){var l=t.previous.find(function(e){return"locale"===e.type});r=Object.assign({},r,{oldValue:l?l.value:null})}var i=[r];if(t.phraseFilter){var a=t.phraseFilter.map(function(n){return e.resolvePhrase(n).then(function(e){return e||null})});Promise.all(a).then(function(e){var n=e.map(function(e,n){var r={type:"phrase",phraseName:t.phraseFilter[n],value:e};if(t.oldValue){var l=t.previous.find(function(e){return"phrase"===e.type&&e.phraseName===t.phraseFilter[n]});r=Object.assign({},r,{oldValue:l?l.value:null})}return r});i=i.concat(n),t.previous=i,t.callback(i)})}else t.previous=i,t.callback(i)}}}(e))({detail:{locale:e.lang,dir:e.dir}}),e}).then(function(e){t.onChange=function(e){return n(e)},e.addEventListener("intlChange",t.onChange)})},e.prototype.disconnect=function(){var e=this;document.querySelector("intl-dictionary").componentOnReady().then(function(n){return n.removeEventListener("intlChange",e.onChange)})},e}();export{phrase,LanguageObserver};